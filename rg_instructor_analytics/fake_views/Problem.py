"""
Module for problem subtab.
"""
import json

from django.http.response import JsonResponse
from django.views.generic import View

from rg_instructor_analytics.utils.AccessMixin import AccessMixin


class ProblemHomeWorkStatisticView(AccessMixin, View):
    """
    Api for get homework`s statistic for given course.
    """

    def process(self, request, **kwargs):
        """
        Process post request.
        """
        raw_data = ('{"correct_answer":[0,1,0.9700854700854701,0,0.9940476190476191,0,0,0.9492424242424242,0,'
                    '0.9568452380952381,0,0.9649122807017544,0,0,0.9148809523809524,0,0.9619047619047619,0,'
                    '0.9416666666666667,0,0,0.9042487684729064,0,0.9629629629629629,0,0.9135802469135803,0,0,'
                    '0.9880952380952381,0,0.9500000000000001,0,1,0,0,1,0,0.9027777777777777,0,0,0,0,0.9,0,0],'
                    '"attempts":[0,1.1538461538461537,1.2528027528027528,0,1.0718614718614718,0,0,'
                    '1.2143939393939394,0,1.2363022648083626,0,1.2280701754385965,0,0,1.2107142857142856,0,'
                    '1.3428571428571427,0,1.1416666666666666,0,0,1.2346059113300494,0,1.1975308641975309,0,'
                    '1.2222222222222223,0,0,1.1428571428571428,0,1.2833333333333332,0,1.1578947368421053,0,0,'
                    '1.169590643274854,0,1.3055555555555556,0,0,0,0,1.4,0,0],"problems":[[],'
                    '["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@b632f312af974e2e8cbdb07310ad7d58"],'
                    '["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@8c44998d0b114218b632f59455b603f9",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@4137c29ce28e454690f902a325479e19",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@a8cfa2e57abe446aa7016aff68bb3667"],'
                    '[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@9ba27edb69ac4c0a84ac95bc39016d1b'
                    '","block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@e522fea4e0a34967859e906a26f2fd20",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@7283373bf5ba47bdaf8125165a3f7019"],'
                    '[],[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block'
                    '@598296f4d515481c895ddd3e3722a554",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@44f2070636134d8e9dbeedc9020f74fb",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@7c5160fd189d4db1b505bf63cad7e84d",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@3d916eaf269d41a8afa0e00f3e6af2f2"],'
                    '[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@e29f8fde7b3f4ebcb8553e6a52f93ea0'
                    '","block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@252d52519f4748c4857e36a99cb2cfb3",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@69aed029f39e470a88a29e400e282255",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@5c4530d2462d474493ed52a391f08293"],'
                    '[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@a3638bda390f48e5be4c6fe71d41a27e'
                    '","block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@feffce9d9fe749c18d11e6312b0328a6",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@5f21d69f134f454b9ca346dffa4bdda9"],'
                    '[],[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block'
                    '@23fdf34942e8407592cda4d14bcc65f8",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@1b363f0abc65449392ae44d686d6790c",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@f69d8a06f7994bbb992e5d4871643299",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@8637769559b442678d0d8b13475eb2f7"],'
                    '[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@963c410202ea4088853452b4fc3a2c89'
                    '","block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@c75df5a8a0e6416cad6ef4c86b9559f1",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@9a2507d1f32642eaac933f367bb2d038"],'
                    '[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@c50a08c1b5074015a4421049df5dc4a5'
                    '","block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@7b71a09ee2ff4e86aaf64caf41a8f1aa",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@c3f79357011d451ab399b5a75f631fd1",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@5a93f839bcd74400997491d782e27d65"],'
                    '[],[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block'
                    '@24e3ffabf8f04d53996e34d0be447d86",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@04a28b6ba7954eafa748cf999466d384",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@d5472aa948c34e039939c63346c7f37c",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@5406971d497548ec87e757ede88beadc"],'
                    '[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@8c5c8dedda4a4d86863c72f59809a51d'
                    '","block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@42cff76675134686b12e90b65ee4f45c",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@c77cc2e41d0a424282b047c58a178f29"],'
                    '[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@5aeb8e1730874ca1bbebf9a45bcec900'
                    '","block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@86df9c27c5814545beef3b057ba05b60",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@12440c448ff64baea9b87abf40bee24e"],'
                    '[],[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block'
                    '@c835622f2bf44cf692094743383faeca",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@01b671d97c71455fbdcf5f3e2698964d",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@24c8e12741cd474dae15af8ab88072a0",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@f184d120e23c47088b315026788cc67c"],'
                    '[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@dd4874ff50a44e7bb6b489a5b406791b'
                    '","block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@50fed67526c14b26b90d0d42be32b85f",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@8c5932d0cf334bf1af1fdd9b772c44d7"],'
                    '[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@1d9d791122304b8bba2b3e583b5dcb8e'
                    '","block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@57dbb04f77ab452281ed77cb075ecf78",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@3e7aa163b0034e64af4a7067884c015d"],'
                    '[],[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block'
                    '@3b30984b8fcf401ebf6f4e05c5eedbfc",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@c830604b0f2446aaae89f7cacf3b8e88",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@ede69a04cfe74bf790fb0771d6b2974f",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@550cf4219d134dc4823ee72f6bed0e5a",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@a1085c9bdc1747c389ee8aa41baa7ab6",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@8784070e417c4d928d08602c5ba56788"],'
                    '[],["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@539a6a03acb846b4be407e06542e2e56'
                    '","block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@ed9cec408bd54408baf11ec97d4d13ca",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@44b730d045884c4e89dad21fdaed18a9",'
                    '"block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@dbdbc252035644d9b4ee5b2ecb9e9b7a"],'
                    '[],[],[],[],'
                    '["block-v1:Microsoft+DAT208x+2018_T1+type@problem+block@69b6c64cd86a451dacc1cb883bfec098"],'
                    '[],[]],"names":["Welcome to the Course!","Pre-course survey","Lecture: Hello Python!",'
                    '"Lab: Hello Python!","Lecture: Variables and Types","Lab: Variables and Types",'
                    '"Further Readings","Lecture: Python Lists","Lab: Python Lists","Lecture: Subsetting Lists",'
                    '"Lab: Subsetting Lists","Lecture: Manipulating Lists","Lab: Manipulating Lists",'
                    '"Further Readings","Lecture: Functions","Lab: Functions","Lecture: Methods","Lab: Methods",'
                    '"Lecture: Packages","Lab: Packages","Further Readings","Lecture: Numpy","Lab: Numpy",'
                    '"Lecture: 2D Numpy Arrays","Lab: 2D Numpy Arrays","Lecture: Basic Statistics with Numpy",'
                    '"Lab: Basic Statistics with Numpy","Further Readings","Lecture: Basic Plot with matplotlib",'
                    '"Lab: Basic Plots with matplotlib","Lecture: Histograms","Lab: Histograms","Lecture: '
                    'Customization","Lab: Customization","Further Readings","Lecture: Boolean Logic and Control '
                    'Flow","Lab: Boolean Logic and Control Flow","Lecture: Pandas","Lab: Pandas",'
                    '"Further Readings","Final Exam","Course Wrap-up","Post-course Survey","Instructions",'
                    '"Obtain a voucher for your certificate of completion"]}')
        return JsonResponse(data=json.loads(raw_data))


class ProblemsStatisticView(AccessMixin, View):
    """
    Api for getting statistic for each problem in unit.
    """

    def process(self, request, **kwargs):
        """
        Process post request.
        """
        correct = [90, 8, 30, 50, 11, 18, 0, 0, 30, 4, 29, 18, 0, 0, 11, 20, 30, 76, 29, 18, 0, 0, 22, 50, 53, 18, 0, 0]
        incorrect = [100 - c if c > 0 else 0 for c in correct]
        return JsonResponse(data={'incorrect': incorrect, 'correct': correct})


class ProblemDetailView(AccessMixin, View):
    """
    Api for getting problem detail.
    """

    def process(self, request, **kwargs):
        """
        Process post request.
        """
        raw_data = """{"csrf_token":"MTsMgCK7nrzKEmAqgU1Z0qo6qRdL5GMj","html":"<div class='xblock xblock-student_view xblock-student_view-problem xmodule_display xmodule_CapaModule' data-runtime-class='LmsRuntime' data-init='XBlockToXModuleShim' data-block-type='problem' data-request-token='964a2ea646fb11e891b40800272c61d0' data-runtime-version='1' data-usage-id='block-v1:edX+DemoX+Demo_Course+type@problem+block@a0effb954cca4759994f1ac9e9434bf4' data-type='Problem' data-course-id='course-v1:edX+DemoX+Demo_Course'><script type='json/xblock-args' class='xblock-json-init-args'>{'xmodule-type': 'Problem'}</script><div id='problem_a0effb954cca4759994f1ac9e9434bf4' class='problems-wrapper' role='group' aria-labelledby='a0effb954cca4759994f1ac9e9434bf4-problem-title' data-problem-id='block-v1:edX+DemoX+Demo_Course+type@problem+block@a0effb954cca4759994f1ac9e9434bf4' data-url='/courses/course-v1:edX+DemoX+Demo_Course/xblock/block-v1:edX+DemoX+Demo_Course+type@problem+block@a0effb954cca4759994f1ac9e9434bf4/handler/xmodule_handler' data-problem-score='2' data-problem-total-possible='3' data-attempts-used='2' data-content='&lt;h3 class=&#34;hd hd-3 problem-header&#34; id=&#34;a0effb954cca4759994f1ac9e9434bf4-problem-title&#34; aria-describedby=&#34;block-v1:edX+DemoX+Demo_Course+type@problem+block@a0effb954cca4759994f1ac9e9434bf4-problem-progress&#34; tabindex=&#34;-1&#34;&gt;Multiple Choice Questions&lt;/h3&gt;&lt;div class=&#34;problem-progress&#34; id=&#34;block-v1:edX+DemoX+Demo_Course+type@problem+block@a0effb954cca4759994f1ac9e9434bf4-problem-progress&#34;&gt;&lt;/div&gt;&lt;div class=&#34;problem&#34;&gt;&lt;div&gt;&lt;p&gt;Many edX courses have homework or exercises you need to complete.Notice the clock image to the left?That means this homework or exercise needs to be completed for you to pass the course. (This can be a bit confusing; the exercise may or may not have a due date prior to the end of the course.)&lt;/p&gt;&lt;p&gt;We&amp;#8217;ve provided eight (8) examples of how a professor might ask you questions. While the multiple choice question types below are somewhat standard, explore the other question types in the sequence above, like the formula builder- try them all out. &lt;/p&gt;&lt;p&gt;As you go through the question types, notice how edX gives you immediate feedback on your responses - it really helps in the learning process.&lt;/p&gt;&lt;p&gt;What color is the open ocean on a sunny day?&lt;/p&gt;&lt;div class=&#34;wrapper-problem-response&#34; tabindex=&#34;-1&#34; aria-label=&#34;Question 1&#34; role=&#34;group&#34;&gt;&lt;div class=&#34;inputtype option-input &#34;&gt; &lt;select name=&#34;input_a0effb954cca4759994f1ac9e9434bf4_2_1&#34; id=&#34;input_a0effb954cca4759994f1ac9e9434bf4_2_1&#34; aria-describedby=&#34;status_a0effb954cca4759994f1ac9e9434bf4_2_1&#34;&gt;&lt;option value=&#34;option_a0effb954cca4759994f1ac9e9434bf4_2_1_dummy_default&#34;&gt;Select an option&lt;/option&gt;&lt;option value=&#34;yellow&#34; selected=&#34;true&#34;&gt; yellow&lt;/option&gt;&lt;option value=&#34;blue&#34;&gt; blue&lt;/option&gt;&lt;option value=&#34;green&#34;&gt; green&lt;/option&gt;&lt;/select&gt;&lt;div class=&#34;indicator-container&#34;&gt;&lt;span class=&#34;status incorrect&#34; id=&#34;status_a0effb954cca4759994f1ac9e9434bf4_2_1&#34; data-tooltip=&#34;This answer is incorrect.&#34;&gt;&lt;span class=&#34;sr&#34;&gt;incorrect&lt;/span&gt;&lt;span class=&#34;status-icon&#34; aria-hidden=&#34;true&#34;/&gt;&lt;/span&gt;&lt;/div&gt;&lt;p class=&#34;answer&#34; id=&#34;answer_a0effb954cca4759994f1ac9e9434bf4_2_1&#34;/&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;Which piece of furniture is built for sitting?&lt;/p&gt;&lt;div class=&#34;wrapper-problem-response&#34; tabindex=&#34;-1&#34; aria-label=&#34;Question 2&#34; role=&#34;group&#34;&gt;&lt;div class=&#34;choicegroup capa_inputtype&#34; id=&#34;inputtype_a0effb954cca4759994f1ac9e9434bf4_3_1&#34;&gt;&lt;fieldset aria-describedby=&#34;status_a0effb954cca4759994f1ac9e9434bf4_3_1&#34;&gt;&lt;div class=&#34;field&#34;&gt;&lt;label id=&#34;a0effb954cca4759994f1ac9e9434bf4_3_1-choice_0-label&#34; class=&#34;response-label field-label label-inline&#34; aria-describedby=&#34;status_a0effb954cca4759994f1ac9e9434bf4_3_1&#34;&gt;&lt;input type=&#34;radio&#34; name=&#34;input_a0effb954cca4759994f1ac9e9434bf4_3_1&#34; id=&#34;input_a0effb954cca4759994f1ac9e9434bf4_3_1_choice_0&#34; class=&#34;field-input input-radio&#34; value=&#34;choice_0&#34;/&gt; a table&lt;/label&gt;&lt;/div&gt;&lt;div class=&#34;field&#34;&gt;&lt;label id=&#34;a0effb954cca4759994f1ac9e9434bf4_3_1-choice_1-label&#34; class=&#34;response-label field-label label-inline&#34; aria-describedby=&#34;status_a0effb954cca4759994f1ac9e9434bf4_3_1&#34;&gt;&lt;input type=&#34;radio&#34; name=&#34;input_a0effb954cca4759994f1ac9e9434bf4_3_1&#34; id=&#34;input_a0effb954cca4759994f1ac9e9434bf4_3_1_choice_1&#34; class=&#34;field-input input-radio&#34; value=&#34;choice_1&#34;/&gt; a desk&lt;/label&gt;&lt;/div&gt;&lt;div class=&#34;field&#34;&gt;&lt;label id=&#34;a0effb954cca4759994f1ac9e9434bf4_3_1-choice_2-label&#34; class=&#34;response-label field-label label-inline choicegroup_correct&#34; aria-describedby=&#34;status_a0effb954cca4759994f1ac9e9434bf4_3_1&#34;&gt;&lt;input type=&#34;radio&#34; name=&#34;input_a0effb954cca4759994f1ac9e9434bf4_3_1&#34; id=&#34;input_a0effb954cca4759994f1ac9e9434bf4_3_1_choice_2&#34; class=&#34;field-input input-radio&#34; value=&#34;choice_2&#34; checked=&#34;true&#34;/&gt; a chair&lt;span class=&#34;status correct&#34; id=&#34;status_a0effb954cca4759994f1ac9e9434bf4_3_1&#34; data-tooltip=&#34;This answer is correct.&#34;&gt;&lt;span class=&#34;sr&#34;&gt;correct&lt;/span&gt;&lt;span class=&#34;status-icon&#34; aria-hidden=&#34;true&#34;/&gt;&lt;/span&gt;&lt;/label&gt;&lt;/div&gt;&lt;div class=&#34;field&#34;&gt;&lt;label id=&#34;a0effb954cca4759994f1ac9e9434bf4_3_1-choice_3-label&#34; class=&#34;response-label field-label label-inline&#34; aria-describedby=&#34;status_a0effb954cca4759994f1ac9e9434bf4_3_1&#34;&gt;&lt;input type=&#34;radio&#34; name=&#34;input_a0effb954cca4759994f1ac9e9434bf4_3_1&#34; id=&#34;input_a0effb954cca4759994f1ac9e9434bf4_3_1_choice_3&#34; class=&#34;field-input input-radio&#34; value=&#34;choice_3&#34;/&gt; a bookshelf&lt;/label&gt;&lt;/div&gt;&lt;span id=&#34;answer_a0effb954cca4759994f1ac9e9434bf4_3_1&#34;/&gt;&lt;/fieldset&gt;&lt;div class=&#34;indicator-container&#34;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;Which of the following are musical instruments?&lt;/p&gt;&lt;div class=&#34;wrapper-problem-response&#34; tabindex=&#34;-1&#34; aria-label=&#34;Question 3&#34; role=&#34;group&#34;&gt;&lt;div class=&#34;choicegroup capa_inputtype&#34; id=&#34;inputtype_a0effb954cca4759994f1ac9e9434bf4_4_1&#34;&gt;&lt;fieldset aria-describedby=&#34;status_a0effb954cca4759994f1ac9e9434bf4_4_1&#34;&gt;&lt;div class=&#34;field&#34;&gt;&lt;label id=&#34;a0effb954cca4759994f1ac9e9434bf4_4_1-choice_0-label&#34; class=&#34;response-label field-label label-inline&#34; aria-describedby=&#34;status_a0effb954cca4759994f1ac9e9434bf4_4_1&#34;&gt;&lt;input type=&#34;checkbox&#34; name=&#34;input_a0effb954cca4759994f1ac9e9434bf4_4_1[]&#34; id=&#34;input_a0effb954cca4759994f1ac9e9434bf4_4_1_choice_0&#34; class=&#34;field-input input-checkbox&#34; value=&#34;choice_0&#34; checked=&#34;true&#34;/&gt; a piano&lt;/label&gt;&lt;/div&gt;&lt;div class=&#34;field&#34;&gt;&lt;label id=&#34;a0effb954cca4759994f1ac9e9434bf4_4_1-choice_1-label&#34;class=&#34;response-label field-label label-inline&#34;aria-describedby=&#34;status_a0effb954cca4759994f1ac9e9434bf4_4_1&#34;&gt; &lt;input type=&#34;checkbox&#34; name=&#34;input_a0effb954cca4759994f1ac9e9434bf4_4_1[]&#34; id=&#34;input_a0effb954cca4759994f1ac9e9434bf4_4_1_choice_1&#34; class=&#34;field-input input-checkbox&#34; value=&#34;choice_1&#34;/&gt; a tree&lt;/label&gt;&lt;/div&gt;&lt;div class=&#34;field&#34;&gt; &lt;labelid=&#34;a0effb954cca4759994f1ac9e9434bf4_4_1-choice_2-label&#34;class=&#34;response-label field-label label-inline&#34;aria-describedby=&#34;status_a0effb954cca4759994f1ac9e9434bf4_4_1&#34;&gt; &lt;input type=&#34;checkbox&#34; name=&#34;input_a0effb954cca4759994f1ac9e9434bf4_4_1[]&#34; id=&#34;input_a0effb954cca4759994f1ac9e9434bf4_4_1_choice_2&#34; class=&#34;field-input input-checkbox&#34; value=&#34;choice_2&#34; checked=&#34;true&#34;/&gt; a guitar&lt;/label&gt;&lt;/div&gt;&lt;div class=&#34;field&#34;&gt;&lt;label id=&#34;a0effb954cca4759994f1ac9e9434bf4_4_1-choice_3-label&#34; class=&#34;response-label field-label label-inline&#34; aria-describedby=&#34;status_a0effb954cca4759994f1ac9e9434bf4_4_1&#34;&gt;&lt;input type=&#34;checkbox&#34; name=&#34;input_a0effb954cca4759994f1ac9e9434bf4_4_1[]&#34; id=&#34;input_a0effb954cca4759994f1ac9e9434bf4_4_1_choice_3&#34; class=&#34;field-input input-checkbox&#34; value=&#34;choice_3&#34;/&gt; a window&lt;/label&gt;&lt;/div&gt;&lt;span id=&#34;answer_a0effb954cca4759994f1ac9e9434bf4_4_1&#34;/&gt;&lt;/fieldset&gt;&lt;div class=&#34;indicator-container&#34;&gt;&lt;span class=&#34;status correct&#34; id=&#34;status_a0effb954cca4759994f1ac9e9434bf4_4_1&#34; data-tooltip=&#34;This answer is correct.&#34;&gt;&lt;span class=&#34;sr&#34;&gt;correct&lt;/span&gt;&lt;span class=&#34;status-icon&#34; aria-hidden=&#34;true&#34;/&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt; &lt;/p&gt;&lt;/div&gt;&lt;div class=&#34;action&#34;&gt;&lt;input type=&#34;hidden&#34; name=&#34;problem_id&#34; value=&#34;Multiple Choice Questions&#34; /&gt;&lt;div class=&#34;submit-attempt-container&#34;&gt;&lt;button type=&#34;button&#34; class=&#34;submit btn-brand&#34; data-submitting=&#34;Submitting&#34; data-value=&#34;Submit&#34; data-should-enable-submit-button=&#34;True&#34; aria-describedby=&#34;submission_feedback_a0effb954cca4759994f1ac9e9434bf4&#34; &gt;&lt;span class=&#34;submit-label&#34;&gt;Submit&lt;/span&gt;&lt;/button&gt;&lt;div class=&#34;submission-feedback&#34; id=&#34;submission_feedback_a0effb954cca4759994f1ac9e9434bf4&#34;&gt;&lt;span class=&#34;sr&#34;&gt;Some problems have options such as save, reset, hints, or show answer. These options follow the Submit button.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;problem-action-buttons-wrapper&#34;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;notification warning notification-gentle-alertis-hidden&#34; tabindex=&#34;-1&#34;&gt;&lt;span class=&#34;icon fa fa-exclamation-circle&#34; aria-hidden=&#34;true&#34;&gt;&lt;/span&gt;&lt;span class=&#34;notification-message&#34; aria-describedby=&#34;a0effb954cca4759994f1ac9e9434bf4-problem-title&#34;&gt;&lt;/span&gt;&lt;div class=&#34;notification-btn-wrapper&#34;&gt;&lt;button type=&#34;button&#34; class=&#34;btn btn-default btn-small notification-btn review-btn sr&#34;&gt;Review&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;notification warning notification-saveis-hidden&#34; tabindex=&#34;-1&#34;&gt;&lt;span class=&#34;icon fa fa-save&#34; aria-hidden=&#34;true&#34;&gt;&lt;/span&gt;&lt;span class=&#34;notification-message&#34; aria-describedby=&#34;a0effb954cca4759994f1ac9e9434bf4-problem-title&#34;&gt;None&lt;/span&gt;&lt;div class=&#34;notification-btn-wrapper&#34;&gt;&lt;button type=&#34;button&#34; class=&#34;btn btn-default btn-small notification-btn review-btn sr&#34;&gt;Review&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;notification general notification-show-answeris-hidden&#34; tabindex=&#34;-1&#34;&gt;&lt;span class=&#34;icon fa fa-info-circle&#34; aria-hidden=&#34;true&#34;&gt;&lt;/span&gt;&lt;span class=&#34;notification-message&#34; aria-describedby=&#34;a0effb954cca4759994f1ac9e9434bf4-problem-title&#34;&gt;Answers are displayed within the problem&lt;/span&gt;&lt;div class=&#34;notification-btn-wrapper&#34;&gt;&lt;button type=&#34;button&#34; class=&#34;btn btn-default btn-small notification-btn review-btn sr&#34;&gt;Review&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;' data-graded='True'></div></div><div class='wrap-instructor-info'><a class='instructor-info-action' href='#a0effb954cca4759994f1ac9e9434bf4_debug' id='a0effb954cca4759994f1ac9e9434bf4_trig'>Staff Debug Info</a><a class='instructor-info-action' href='#a0effb954cca4759994f1ac9e9434bf4_history' id='a0effb954cca4759994f1ac9e9434bf4_history_trig'>Submission history</a></div><div aria-hidden='true' role='dialog' tabindex='-1' id='a0effb954cca4759994f1ac9e9434bf4_xqa-modal' class='modal xqa-modal'><div class='inner-wrapper'><header><h2>Your Platform Name Here Content Quality Assessment</h2></header><form id='a0effb954cca4759994f1ac9e9434bf4_xqa_form' class='xqa_form'><label for='a0effb954cca4759994f1ac9e9434bf4_xqa_entry'>Comment</label><input tabindex='0' id='a0effb954cca4759994f1ac9e9434bf4_xqa_entry' type='text' placeholder='comment'><label for='a0effb954cca4759994f1ac9e9434bf4_xqa_tag'>Tag</label><span style='color:black;vertical-align: -10pt'>Optional tag (eg 'done' or 'broken'):&nbsp; </span><input id='a0effb954cca4759994f1ac9e9434bf4_xqa_tag' type='text' placeholder='tag' style='width:80px;display:inline'><div class='submit'><button name='submit' type='submit'>Add comment</button></div><hr><div id='a0effb954cca4759994f1ac9e9434bf4_xqa_log_data'></div></form></div></div><div aria-hidden='true' role='dialog' tabindex='-1' class='modal staff-modal' id='a0effb954cca4759994f1ac9e9434bf4_debug' ><div class='inner-wrapper'><header><h2>Staff Debug</h2></header><hr /><div class='staff_actions'><h3>Actions</h3><div><label for='sd_fu_a0effb954cca4759994f1ac9e9434bf4'>Username:</label><input type='text' tabindex='0' id='sd_fu_a0effb954cca4759994f1ac9e9434bf4' placeholder='staff'/></div><div data-location='block-v1:edX+DemoX+Demo_Course+type@problem+block@a0effb954cca4759994f1ac9e9434bf4' data-location-name='a0effb954cca4759994f1ac9e9434bf4'>[<button type='button' class='btn-link staff-debug-reset'>Reset Learner`s Attempts to Zero</button>|<button type='button' class='btn-link staff-debug-sdelete'>Delete Learner`s State</button>|<button type='button' class='btn-link staff-debug-rescore'>Rescore Learner`s Submission</button>|<button type='button' class='btn-link staff-debug-rescore-if-higher'>Rescore Only If Score Improves</button>]</div><div id='result_a0effb954cca4759994f1ac9e9434bf4'></div></div><div class='staff_info' style='display:block'>is_released = <font color='red'>Yes!</font>location = block-v1:edX+DemoX+Demo_Course+type@problem+block@a0effb954cca4759994f1ac9e9434bf4<table summary='Module Fields'><tr><th>Module Fields</th></tr><tr><td style='width:25%'>visible_to_staff_only</td><td><pre style='display:inline-block; margin: 0;'>False</pre></td></tr><tr><td style='width:25%'>markdown</td><td><pre style='display:inline-block; margin: 0;'>Many edX courses have homework or exercises you need to complete.Notice the clock image to the left?That means this homework or exercise needs to be completed for you to pass the course. (This can be a bit confusing; the exercise may or may not have a due date prior to the end of the course.)We’ve provided eight (8) examples of how a professor might ask you questions. While the multiple choice question types below are somewhat standard, explore the other question types in the sequence above, like the formula builder- try them all out. As you go through the question types, notice how edX gives you immediate feedback on your responses - it really helps in the learning process.What color is the open ocean on a sunny day?[[yellow, (blue), green]]Which piece of furniture is built for sitting?( ) a table( ) a desk(x) a chair( ) a bookshelfWhich of the following are musical instruments?[x] a piano[ ] a tree[x] a guitar[ ] a window </pre></td></tr><tr><td style='width:25%'>graded</td><td><pre style='display:inline-block; margin: 0;'>True</pre></td></tr><tr><td style='width:25%'>weight</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>annotation_token_secret</td><td><pre style='display:inline-block; margin: 0;'>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</pre></td></tr><tr><td style='width:25%'>giturl</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>edxnotes</td><td><pre style='display:inline-block; margin: 0;'>False</pre></td></tr><tr><td style='width:25%'>attempts</td><td><pre style='display:inline-block; margin: 0;'>2</pre></td></tr><tr><td style='width:25%'>source_file</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>done</td><td><pre style='display:inline-block; margin: 0;'>True</pre></td></tr><tr><td style='width:25%'>course_edit_method</td><td><pre style='display:inline-block; margin: 0;'>Studio</pre></td></tr><tr><td style='width:25%'>default_tab</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>in_entrance_exam</td><td><pre style='display:inline-block; margin: 0;'>False</pre></td></tr><tr><td style='width:25%'>showanswer</td><td><pre style='display:inline-block; margin: 0;'>never</pre></td></tr><tr><td style='width:25%'>display_name</td><td><pre style='display:inline-block; margin: 0;'>Multiple Choice Questions</pre></td></tr><tr><td style='width:25%'>video_speed_optimizations</td><td><pre style='display:inline-block; margin: 0;'>True</pre></td></tr><tr><td style='width:25%'>graceperiod</td><td><pre style='display:inline-block; margin: 0;'>5:00:00</pre></td></tr><tr><td style='width:25%'>format</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>due</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>has_saved_answers</td><td><pre style='display:inline-block; margin: 0;'>False</pre></td></tr><tr><td style='width:25%'>start</td><td><pre style='display:inline-block; margin: 0;'>2013-02-05 00:00:00+00:00</pre></td></tr><tr><td style='width:25%'>video_bumper</td><td><pre style='display:inline-block; margin: 0;'>{}</pre></td></tr><tr><td style='width:25%'>max_attempts</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>submission_wait_seconds</td><td><pre style='display:inline-block; margin: 0;'>0</pre></td></tr><tr><td style='width:25%'>parent</td><td><pre style='display:inline-block; margin: 0;'>block-v1:edX+DemoX+Demo_Course+type@vertical+block@54bb9b142c6c4c22afc62bcb628f0e68</pre></td></tr><tr><td style='width:25%'>tags</td><td><pre style='display:inline-block; margin: 0;'>[]</pre></td></tr><tr><td style='width:25%'>matlab_api_key</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>xqa_key</td><td><pre style='display:inline-block; margin: 0;'>qaijS3UatK020Wc0sfCtFe0V6jpB4d64</pre></td></tr><tr><td style='width:25%'>input_state</td><td><pre style='display:inline-block; margin: 0;'>{u&#39;a0effb954cca4759994f1ac9e9434bf4_4_1&#39;: {}, u&#39;a0effb954cca4759994f1ac9e9434bf4_2_1&#39;: {}, u&#39;a0effb954cca4759994f1ac9e9434bf4_3_1&#39;: {}}</pre></td></tr><tr><td style='width:25%'>last_submission_time</td><td><pre style='display:inline-block; margin: 0;'>2018-04-18 08:02:54+00:00</pre></td></tr><tr><td style='width:25%'>annotation_storage_url</td><td><pre style='display:inline-block; margin: 0;'>http://your_annotation_storage.com</pre></td></tr><tr><td style='width:25%'>use_latex_compiler</td><td><pre style='display:inline-block; margin: 0;'>False</pre></td></tr><tr><td style='width:25%'>days_early_for_beta</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>show_correctness</td><td><pre style='display:inline-block; margin: 0;'>always</pre></td></tr><tr><td style='width:25%'>source_code</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>data</td><td><pre style='display:inline-block; margin: 0;'>&lt;problem&gt;&lt;p&gt;Many edX courses have homework or exercises you need to complete.Notice the clock image to the left?That means this homework or exercise needs to be completed for you to pass the course. (This can be a bit confusing; the exercise may or may not have a due date prior to the end of the course.)&lt;/p&gt;&lt;p&gt;We’ve provided eight (8) examples of how a professor might ask you questions. While the multiple choice question types below are somewhat standard, explore the other question types in the sequence above, like the formula builder- try them all out. &lt;/p&gt;&lt;p&gt;As you go through the question types, notice how edX gives you immediate feedback on your responses - it really helps in the learning process.&lt;/p&gt;&lt;p&gt;What color is the open ocean on a sunny day?&lt;/p&gt;&lt;optionresponse&gt;&lt;optioninput options=&#34;(&#39;yellow&#39;,&#39;blue&#39;,&#39;green&#39;)&#34; correct=&#34;blue&#34;/&gt;&lt;/optionresponse&gt;&lt;p&gt;Which piece of furniture is built for sitting?&lt;/p&gt;&lt;multiplechoiceresponse&gt;&lt;choicegroup type=&#34;MultipleChoice&#34;&gt;&lt;choice correct=&#34;false&#34;&gt;a table&lt;/choice&gt;&lt;choice correct=&#34;false&#34;&gt;a desk&lt;/choice&gt;&lt;choice correct=&#34;true&#34;&gt;a chair&lt;/choice&gt;&lt;choice correct=&#34;false&#34;&gt;a bookshelf&lt;/choice&gt;&lt;/choicegroup&gt;&lt;/multiplechoiceresponse&gt;&lt;p&gt;Which of the following are musical instruments?&lt;/p&gt;&lt;choiceresponse&gt;&lt;checkboxgroup direction=&#34;vertical&#34;&gt;&lt;choice correct=&#34;true&#34;&gt;a piano&lt;/choice&gt;&lt;choice correct=&#34;false&#34;&gt;a tree&lt;/choice&gt;&lt;choice correct=&#34;true&#34;&gt;a guitar&lt;/choice&gt;&lt;choice correct=&#34;false&#34;&gt;a window&lt;/choice&gt;&lt;/checkboxgroup&gt;&lt;/choiceresponse&gt;&lt;p&gt; &lt;/p&gt;&lt;/problem&gt;</pre></td></tr><tr><td style='width:25%'>static_asset_path</td><td><pre style='display:inline-block; margin: 0;'></pre></td></tr><tr><td style='width:25%'>name</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>hide_from_toc</td><td><pre style='display:inline-block; margin: 0;'>False</pre></td></tr><tr><td style='width:25%'>group_access</td><td><pre style='display:inline-block; margin: 0;'>{}</pre></td></tr><tr><td style='width:25%'>force_save_button</td><td><pre style='display:inline-block; margin: 0;'>False</pre></td></tr><tr><td style='width:25%'>correct_map</td><td><pre style='display:inline-block; margin: 0;'>{u&#39;a0effb954cca4759994f1ac9e9434bf4_4_1&#39;: {u&#39;hint&#39;: u&#39;&#39;, u&#39;hintmode&#39;: None, u&#39;correctness&#39;: u&#39;correct&#39;, u&#39;npoints&#39;: None, u&#39;answervariable&#39;: None, u&#39;msg&#39;: u&#39;&#39;, u&#39;queuestate&#39;: None}, u&#39;a0effb954cca4759994f1ac9e9434bf4_2_1&#39;: {u&#39;hint&#39;: u&#39;&#39;, u&#39;hintmode&#39;: None, u&#39;correctness&#39;: u&#39;incorrect&#39;, u&#39;npoints&#39;: None, u&#39;answervariable&#39;: None, u&#39;msg&#39;: u&#39;&#39;, u&#39;queuestate&#39;: None}, u&#39;a0effb954cca4759994f1ac9e9434bf4_3_1&#39;: {u&#39;hint&#39;: u&#39;&#39;, u&#39;hintmode&#39;: None, u&#39;correctness&#39;: u&#39;correct&#39;, u&#39;npoints&#39;: None, u&#39;answervariable&#39;: None, u&#39;msg&#39;: u&#39;&#39;, u&#39;queuestate&#39;: None}}</pre></td></tr><tr><td style='width:25%'>rerandomize</td><td><pre style='display:inline-block; margin: 0;'>never</pre></td></tr><tr><td style='width:25%'>user_partitions</td><td><pre style='display:inline-block; margin: 0;'>[]</pre></td></tr><tr><td style='width:25%'>chrome</td><td><pre style='display:inline-block; margin: 0;'>None</pre></td></tr><tr><td style='width:25%'>seed</td><td><pre style='display:inline-block; margin: 0;'>1</pre></td></tr><tr><td style='width:25%'>edxnotes_visibility</td><td><pre style='display:inline-block; margin: 0;'>True</pre></td></tr><tr><td style='width:25%'>student_answers</td><td><pre style='display:inline-block; margin: 0;'>{u&#39;a0effb954cca4759994f1ac9e9434bf4_4_1&#39;: [u&#39;choice_0&#39;, u&#39;choice_2&#39;], u&#39;a0effb954cca4759994f1ac9e9434bf4_2_1&#39;: u&#39;yellow&#39;, u&#39;a0effb954cca4759994f1ac9e9434bf4_3_1&#39;: u&#39;choice_2&#39;}</pre></td></tr><tr><td style='width:25%'>show_reset_button</td><td><pre style='display:inline-block; margin: 0;'>False</pre></td></tr><tr><td style='width:25%'>self_paced</td><td><pre style='display:inline-block; margin: 0;'>False</pre></td></tr></table><table><tr><th>XML attributes</th></tr></table>category = CapaModuleWithMixins</div></div></div><div aria-hidden='true' role='dialog' tabindex='-1' class='modal history-modal' id='a0effb954cca4759994f1ac9e9434bf4_history'><div class='inner-wrapper'><header><h2>Submission History Viewer</h2></header><form id='a0effb954cca4759994f1ac9e9434bf4_history_form'><label for='a0effb954cca4759994f1ac9e9434bf4_history_student_username'>User:</label><input tabindex='0' id='a0effb954cca4759994f1ac9e9434bf4_history_student_username' type='text' placeholder=''/><input type='hidden' id='a0effb954cca4759994f1ac9e9434bf4_history_location' value='block-v1:edX+DemoX+Demo_Course+type@problem+block@a0effb954cca4759994f1ac9e9434bf4'/><div class='submit'><button name='submit' type='submit'>View History</button></div></form><div id='a0effb954cca4759994f1ac9e9434bf4_history_text' class='staff_info' style='display:block'></div></div></div><div id='a0effb954cca4759994f1ac9e9434bf4_setup'></div><script type='text/javascript'>// assumes courseware.html`s loaded this method.$(function () {setup_debug('a0effb954cca4759994f1ac9e9434bf4',null,{'location': 'block\u002Dv1:edX+DemoX+Demo_Course+type@problem+block@a0effb954cca4759994f1ac9e9434bf4','xqa_key': 'qaijS3UatK020Wc0sfCtFe0V6jpB4d64','category': 'CapaModuleWithMixins','user': 'staff'});});</script>","resources":[]} """
        return JsonResponse(data=json.loads(raw_data))


class ProblemQuestionView(AccessMixin, View):
    """
    Api for question statistic.
    """

    def process(self, request, **kwargs):
        """
        Process post request.
        """
        raw_data = '{"stats":{"a piano":2,"a window":0,"a tree":0,"a guitar":2},"type":"bar"}'

        return JsonResponse(data=json.loads(raw_data))
